<div class="col-md-12 invoice-container">
  <div class="row">
    <div class="col-md-3 mx-auto">
      <form [formGroup]="formGroup">
        <div class="md-form">
          <input type="text" class="form-control" name="searchString" placeholder="Ex: 202101"
            formControlName="filter" />
        </div>
      </form>
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-md-3 mx-auto text-center">
      <a class="firstButton" (click)="AddInvoice()">Générer une facture</a>
    </div>
  </div>
  <table class="table table-striped text-center" style="margin-top: 3%;">
    <thead>
      <tr>
        <th scope="col">Numéro</th>
        <th scope="col">Paiement</th>
        <th scope="col">Text</th>
        <th scope="col">Montant HT</th>
        <th scope="col">Montant TTC</th>
        <th scope="col">Produit(s)</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let invoice of invoices | paginate: { itemsPerPage: 10, currentPage: actualPage }">
        <td>{{ invoice.number }}</td>
        <td>{{ invoice.paymentMethod }}</td>
        <td>{{ invoice.text| slice:0:30 }}<span *ngIf="invoice.text != null">...</span></td>
        <td>{{ invoice.amountHt }}</td>
        <td>{{ invoice.amountTtc }}</td>
        <td>{{ invoice.benefit }}</td>
        <td>
          <mat-icon (click)="showInvoice(invoice)">description</mat-icon>
          <mat-icon (click)="downloadInvoice(invoice)">download</mat-icon>
          <mat-icon (click)="editInvoice(invoice)">edit</mat-icon>
          <mat-icon (click)="deleteInvoice(invoice)">delete</mat-icon>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<app-loading-spinner></app-loading-spinner>
<pagination-controls class="pagination" (pageChange)="actualPage = $event"></pagination-controls>